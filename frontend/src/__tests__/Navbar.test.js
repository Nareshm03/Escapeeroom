import React from 'react';\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Navbar from '../components/Navbar';\nimport { AuthProvider } from '../utils/AuthContext';\nimport { SettingsProvider } from '../utils/SettingsContext';\n\nconst MockedNavbar = ({ user = null }) => (\n  <BrowserRouter>\n    <AuthProvider>\n      <SettingsProvider>\n        <Navbar />\n      </SettingsProvider>\n    </AuthProvider>\n  </BrowserRouter>\n);\n\ndescribe('Navbar Component', () => {\n  test('renders navbar with glassmorphism styles', () => {\n    render(<MockedNavbar />);\n    const navbar = document.querySelector('.glassmorphism-navbar');\n    expect(navbar).toBeInTheDocument();\n  });\n\n  test('theme toggle switches between light and dark mode', () => {\n    render(<MockedNavbar user={{ name: 'Test User', email: 'test@test.com' }} />);\n    const themeToggle = screen.getByLabelText(/switch to/i);\n    \n    fireEvent.click(themeToggle);\n    expect(document.documentElement.getAttribute('data-theme')).toBe('dark');\n    \n    fireEvent.click(themeToggle);\n    expect(document.documentElement.getAttribute('data-theme')).toBe('light');\n  });\n\n  test('user avatar opens dropdown menu', () => {\n    render(<MockedNavbar user={{ name: 'Test User', email: 'test@test.com' }} />);\n    const avatar = screen.getByLabelText('User menu');\n    \n    fireEvent.click(avatar);\n    const dropdown = document.querySelector('.dropdown-menu.open');\n    expect(dropdown).toBeInTheDocument();\n  });\n\n  test('mobile menu toggle works correctly', () => {\n    global.innerWidth = 500;\n    render(<MockedNavbar user={{ name: 'Test User', email: 'test@test.com' }} />);\n    \n    const menuToggle = screen.getByLabelText('Toggle menu');\n    fireEvent.click(menuToggle);\n    \n    const mobileMenu = document.querySelector('.navbar-main.open');\n    expect(mobileMenu).toBeInTheDocument();\n  });\n\n  test('navigation items have active state', () => {\n    render(<MockedNavbar user={{ name: 'Test User', email: 'test@test.com' }} />);\n    const navItems = document.querySelectorAll('.nav-item');\n    expect(navItems.length).toBeGreaterThan(0);\n  });\n\n  test('admin menu appears for admin users', () => {\n    render(<MockedNavbar user={{ name: 'Admin', email: 'admin@escaperoom.com' }} />);\n    const avatar = screen.getByLabelText('User menu');\n    fireEvent.click(avatar);\n    \n    expect(screen.getByText('Create')).toBeInTheDocument();\n    expect(screen.getByText('Quizzes')).toBeInTheDocument();\n    expect(screen.getByText('Settings')).toBeInTheDocument();\n  });\n\n  test('keyboard navigation works', () => {\n    render(<MockedNavbar user={{ name: 'Test User', email: 'test@test.com' }} />);\n    const navItems = document.querySelectorAll('.nav-item');\n    \n    navItems[0].focus();\n    expect(document.activeElement).toBe(navItems[0]);\n  });\n\n  test('ARIA attributes are present', () => {\n    render(<MockedNavbar user={{ name: 'Test User', email: 'test@test.com' }} />);\n    const nav = screen.getByRole('navigation');\n    expect(nav).toHaveAttribute('aria-label', 'Main navigation');\n    \n    const userMenu = screen.getByLabelText('User menu');\n    expect(userMenu).toHaveAttribute('aria-haspopup', 'true');\n  });\n});\n