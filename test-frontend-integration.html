<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sequential Unlock - Frontend Integration Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .header {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 30px;
    }
    .test-section {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-item {
      padding: 12px;
      margin: 8px 0;
      border-left: 4px solid #ddd;
      background: #f9f9f9;
    }
    .test-item.pass {
      border-left-color: #28a745;
      background: #d4edda;
    }
    .test-item.fail {
      border-left-color: #dc3545;
      background: #f8d7da;
    }
    .test-item.pending {
      border-left-color: #ffc107;
      background: #fff3cd;
    }
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 5px;
    }
    button:hover {
      background: #5568d3;
    }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .summary {
      background: #e7f3ff;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
    }
    .code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: monospace;
      font-size: 14px;
    }
    .instructions {
      background: #fff3cd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #ffc107;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ§ª Sequential Unlock - Frontend Integration Test</h1>
    <p>Manual testing checklist for UI components and user interactions</p>
  </div>

  <div class="instructions">
    <h3>ğŸ“‹ Instructions</h3>
    <ol>
      <li>Ensure both backend (port 5000) and frontend (port 3000) are running</li>
      <li>Follow each test section in order</li>
      <li>Click "Mark as Pass" or "Mark as Fail" for each test</li>
      <li>Document any issues in browser console</li>
    </ol>
  </div>

  <div class="test-section">
    <h2>1ï¸âƒ£ Quiz Creation Form - QuizWizard</h2>
    <div class="test-item pending" id="test-1-1">
      <strong>Test 1.1:</strong> Navigate to <span class="code">/quiz-wizard</span> - Form loads without errors
      <button onclick="markTest('test-1-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-1-2">
      <strong>Test 1.2:</strong> "Enable Sequential Unlock Mode" toggle is visible in Step 1
      <button onclick="markTest('test-1-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-1-3">
      <strong>Test 1.3:</strong> "âœ… Yes" option is selected by default
      <button onclick="markTest('test-1-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-3', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-1-4">
      <strong>Test 1.4:</strong> Tooltip (â„¹ï¸) appears on hover with explanation
      <button onclick="markTest('test-1-4', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-4', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-1-5">
      <strong>Test 1.5:</strong> Can toggle between "Yes" and "No" options
      <button onclick="markTest('test-1-5', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-5', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-1-6">
      <strong>Test 1.6:</strong> Helper text is displayed below toggle
      <button onclick="markTest('test-1-6', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-6', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-1-7">
      <strong>Test 1.7:</strong> Setting appears in Review step (Step 3)
      <button onclick="markTest('test-1-7', true)">âœ… Pass</button>
      <button onclick="markTest('test-1-7', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="test-section">
    <h2>2ï¸âƒ£ Quiz Creation Form - QuizCreator</h2>
    <div class="test-item pending" id="test-2-1">
      <strong>Test 2.1:</strong> Navigate to <span class="code">/quiz-creator</span> - Form loads without errors
      <button onclick="markTest('test-2-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-2-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-2-2">
      <strong>Test 2.2:</strong> Sequential unlock toggle is visible and functional
      <button onclick="markTest('test-2-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-2-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-2-3">
      <strong>Test 2.3:</strong> Create quiz with sequential enabled - No console errors
      <button onclick="markTest('test-2-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-2-3', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-2-4">
      <strong>Test 2.4:</strong> Create quiz with sequential disabled - No console errors
      <button onclick="markTest('test-2-4', true)">âœ… Pass</button>
      <button onclick="markTest('test-2-4', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="test-section">
    <h2>3ï¸âƒ£ Quiz Taking - Sequential Mode Enabled</h2>
    <div class="test-item pending" id="test-3-1">
      <strong>Test 3.1:</strong> Open sequential quiz - Progress indicator is visible
      <button onclick="markTest('test-3-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-2">
      <strong>Test 3.2:</strong> Only first question button is unlocked (no ğŸ”’)
      <button onclick="markTest('test-3-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-3">
      <strong>Test 3.3:</strong> Other question buttons show ğŸ”’ icon
      <button onclick="markTest('test-3-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-3', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-4">
      <strong>Test 3.4:</strong> Locked questions show overlay with lock message
      <button onclick="markTest('test-3-4', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-4', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-5">
      <strong>Test 3.5:</strong> Submit incorrect answer - Question stays locked
      <button onclick="markTest('test-3-5', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-5', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-6">
      <strong>Test 3.6:</strong> Error message shows: "âŒ Incorrect answer. Try again!"
      <button onclick="markTest('test-3-6', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-6', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-7">
      <strong>Test 3.7:</strong> Submit correct answer - Success message appears
      <button onclick="markTest('test-3-7', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-7', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-8">
      <strong>Test 3.8:</strong> Success message: "âœ… Correct! Moving to next question..."
      <button onclick="markTest('test-3-8', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-8', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-9">
      <strong>Test 3.9:</strong> Next question unlocks (button changes from ğŸ”’ to number)
      <button onclick="markTest('test-3-9', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-9', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-10">
      <strong>Test 3.10:</strong> Progress indicator updates (answered question shows âœ“)
      <button onclick="markTest('test-3-10', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-10', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-11">
      <strong>Test 3.11:</strong> Can click unlocked question buttons to navigate
      <button onclick="markTest('test-3-11', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-11', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-12">
      <strong>Test 3.12:</strong> Locked question buttons are disabled (cursor: not-allowed)
      <button onclick="markTest('test-3-12', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-12', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-3-13">
      <strong>Test 3.13:</strong> Complete all questions - Quiz submits successfully
      <button onclick="markTest('test-3-13', true)">âœ… Pass</button>
      <button onclick="markTest('test-3-13', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="test-section">
    <h2>4ï¸âƒ£ Quiz Taking - Sequential Mode Disabled</h2>
    <div class="test-item pending" id="test-4-1">
      <strong>Test 4.1:</strong> Open non-sequential quiz - All questions unlocked
      <button onclick="markTest('test-4-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-4-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-4-2">
      <strong>Test 4.2:</strong> No ğŸ”’ icons visible on any question
      <button onclick="markTest('test-4-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-4-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-4-3">
      <strong>Test 4.3:</strong> Can navigate freely between all questions
      <button onclick="markTest('test-4-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-4-3', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-4-4">
      <strong>Test 4.4:</strong> No lock overlay appears on any question
      <button onclick="markTest('test-4-4', true)">âœ… Pass</button>
      <button onclick="markTest('test-4-4', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-4-5">
      <strong>Test 4.5:</strong> Quiz completes and submits normally
      <button onclick="markTest('test-4-5', true)">âœ… Pass</button>
      <button onclick="markTest('test-4-5', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="test-section">
    <h2>5ï¸âƒ£ Edge Cases</h2>
    <div class="test-item pending" id="test-5-1">
      <strong>Test 5.1:</strong> Single question quiz - No errors, question unlocked
      <button onclick="markTest('test-5-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-5-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-5-2">
      <strong>Test 5.2:</strong> Last question - No unlock attempt after correct answer
      <button onclick="markTest('test-5-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-5-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-5-3">
      <strong>Test 5.3:</strong> Browser refresh - State maintained correctly
      <button onclick="markTest('test-5-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-5-3', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="test-section">
    <h2>6ï¸âƒ£ Integration with Existing Features</h2>
    <div class="test-item pending" id="test-6-1">
      <strong>Test 6.1:</strong> Works with time limits (question and total)
      <button onclick="markTest('test-6-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-6-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-6-2">
      <strong>Test 6.2:</strong> Works with settings (page titles, progress bar, etc.)
      <button onclick="markTest('test-6-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-6-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-6-3">
      <strong>Test 6.3:</strong> Quiz results display correctly
      <button onclick="markTest('test-6-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-6-3', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-6-4">
      <strong>Test 6.4:</strong> Existing quizzes (without field) still work
      <button onclick="markTest('test-6-4', true)">âœ… Pass</button>
      <button onclick="markTest('test-6-4', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="test-section">
    <h2>7ï¸âƒ£ Responsive Design</h2>
    <div class="test-item pending" id="test-7-1">
      <strong>Test 7.1:</strong> Desktop (1920x1080) - All elements display correctly
      <button onclick="markTest('test-7-1', true)">âœ… Pass</button>
      <button onclick="markTest('test-7-1', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-7-2">
      <strong>Test 7.2:</strong> Tablet (768px) - Progress indicator wraps properly
      <button onclick="markTest('test-7-2', true)">âœ… Pass</button>
      <button onclick="markTest('test-7-2', false)">âŒ Fail</button>
    </div>
    <div class="test-item pending" id="test-7-3">
      <strong>Test 7.3:</strong> Mobile (375px) - All elements accessible
      <button onclick="markTest('test-7-3', true)">âœ… Pass</button>
      <button onclick="markTest('test-7-3', false)">âŒ Fail</button>
    </div>
  </div>

  <div class="summary" id="summary">
    <h2>ğŸ“Š Test Summary</h2>
    <p><strong>Total Tests:</strong> <span id="total">0</span></p>
    <p><strong>Passed:</strong> <span id="passed" style="color: #28a745;">0</span></p>
    <p><strong>Failed:</strong> <span id="failed" style="color: #dc3545;">0</span></p>
    <p><strong>Pending:</strong> <span id="pending" style="color: #ffc107;">0</span></p>
    <p><strong>Pass Rate:</strong> <span id="rate">0%</span></p>
  </div>

  <div style="text-align: center; margin-top: 30px;">
    <button onclick="resetAll()" style="background: #dc3545;">ğŸ”„ Reset All Tests</button>
    <button onclick="exportResults()" style="background: #28a745;">ğŸ“¥ Export Results</button>
  </div>

  <script>
    function markTest(testId, passed) {
      const element = document.getElementById(testId);
      element.className = 'test-item ' + (passed ? 'pass' : 'fail');
      updateSummary();
    }

    function updateSummary() {
      const all = document.querySelectorAll('.test-item');
      const passed = document.querySelectorAll('.test-item.pass');
      const failed = document.querySelectorAll('.test-item.fail');
      const pending = document.querySelectorAll('.test-item.pending');
      
      document.getElementById('total').textContent = all.length;
      document.getElementById('passed').textContent = passed.length;
      document.getElementById('failed').textContent = failed.length;
      document.getElementById('pending').textContent = pending.length;
      
      const rate = all.length > 0 ? Math.round((passed.length / all.length) * 100) : 0;
      document.getElementById('rate').textContent = rate + '%';
    }

    function resetAll() {
      if (confirm('Reset all test results?')) {
        document.querySelectorAll('.test-item').forEach(item => {
          item.className = 'test-item pending';
        });
        updateSummary();
      }
    }

    function exportResults() {
      const results = [];
      document.querySelectorAll('.test-item').forEach(item => {
        const status = item.classList.contains('pass') ? 'PASS' : 
                      item.classList.contains('fail') ? 'FAIL' : 'PENDING';
        results.push({
          test: item.querySelector('strong').textContent,
          status: status
        });
      });
      
      const summary = document.getElementById('summary').textContent;
      const output = 'SEQUENTIAL UNLOCK - TEST RESULTS\n' +
                    '================================\n\n' +
                    results.map(r => `${r.status}: ${r.test}`).join('\n') +
                    '\n\n' + summary;
      
      const blob = new Blob([output], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'sequential-unlock-test-results.txt';
      a.click();
    }

    updateSummary();
  </script>
</body>
</html>
